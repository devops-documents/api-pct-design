openapi: 3.0.0
info:
  title: Gateway Services
  version: '1.0'
  description: 'API allowing access to the data generated from gateway and sensors. '
  contact:
    name: Brent Whitney
    email: bwhitney@phillipsind.com
servers:
  - url: 'http://localhost:3000'
paths:
  /device/reports:
    get:
      summary: Retrieve gateway device data
      tags:
        - Gateway
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./device-report/models/report.v1.yaml
      operationId: get-device-report
      parameters:
        - schema:
            type: string
          in: query
          name: gateway_id
          description: imei number
        - schema:
            type: string
            enum:
              - DATETIME
              - SEQUENCE
          in: query
          name: query_method
          description: ''
        - schema:
            type: string
          in: query
          name: from
          description: 'from: [server datetime | gateway_sequence_number]'
        - schema:
            type: string
          in: query
          name: to
          description: 'to: [server datetime | gateway_sequence_number]'
      description: 'API to pull historical gateway device data to authorized system users. Open ended queries will return the last 100 reports. If the query method is used, a maximum of 10,000 reports can be returned per call.  '
    parameters: []
components:
  schemas: {}
tags:
  - name: Gateway
