title: Gateway Report
description: Standard device report that is generated based on triggered events
type: object
xml:
  name: Reports
x-examples:
  example-1: {}
x-internal: true
properties:
  gateway_id:
    type: string
    description: 'The unique id for the gateway. For cellular devices, this will equal the IMEI number'
  asset_id:
    type: string
    description: The asset-id that the gateway is assigned to
  vin:
    type: string
    description: VIN number of the asset-id
  report_number:
    type: integer
    description: 'A number to that is auto-incremented for each valid report processed by the server '
  event_datetime:
    type: string
    description: 'The datetime of when the event was generated on the gateway in UTC. Format is ISO8601. '
    format: date-time
    example: '2012-04-21T18:25:43Z'
  event_name:
    type: string
    description: A discrete list that describes the triggering event for why the report was generated and send by the device
  server_datetime:
    type: string
    description: The datetime that the report was received in the serverin UTC. Format is ISO8601
  gateway_number:
    type: integer
    description: Counter that increments for each distinct report sent for this gateway device
  summary:
    type: object
    properties:
      latitude:
        type: number
        description: Floating number with 6 digits of precision
        format: float
        example: '33.628342'
      longitude:
        type: number
        description: Floating number with 6 digits of precision
        format: float
        example: '-117.927933'
      location_datetime:
        type: string
        description: Datetime of when the GPS measurements were taken in UTC. Format is ISO8601.
      speed:
        type: number
        description: Units in kilometers per hour rounded to nearest tenth.
        format: float
        example: '80.1'
        minimum: 0
        maximum: 999
      heading:
        type: integer
        minimum: 0
        maximum: 359
      current_power_source:
        type: string
        description: Indicates whether or not the gateway is currently operating off external power or the battery.
        enum:
          - battery
          - external_power1
          - external_power2
      internal_temperature:
        type: number
        description: Internal tempature of the gateway. Units in Celsius
      is_trip:
        type: boolean
        description: Indicates whether the trailer is on a trip. Please consult the functional behavior document for each gateway product you own.
      odometer:
        type: integer
      ambient_temperature:
        type: number
        description: Units in celcius rounded to nearest tenth.
  internal_sensors:
    type: array
    items:
      anyOf:
        - $ref: ./gps-sensor.v1.yaml
        - $ref: ./temperature-sensor.v1.yaml
        - $ref: ./power-sensor.v1.yaml
  peripheral_sensors:
    type: array
    items:
      anyOf:
        - $ref: ./abs-sensor.v1.yaml
        - $ref: ./atis-sensor.v1.yaml
        - $ref: ./cargo-sensor.v1.yaml
        - $ref: ./tpms-sensor.v1.yaml
        - $ref: ./door-sensor.v1.yaml
        - $ref: ./gladhands.v1.yaml
        - $ref: ./lite-sentry.v1.yaml
        - $ref: ./tank-pressure.v1.yaml
        - $ref: ./trailer-weight.v1.yaml
        - $ref: ./tractor-pairing.v1.yaml
        - $ref: ./temperature-sensor.v1.yaml
  debug_number:
    type: integer
    description: For PCT use. Please store this along with the report
  gateway_sequence:
    type: integer
    description: Depracated. Please begin using gateway_number
  version:
    type: string
    description: |-
      Version format is a.b.c  

      (a) is major change
      (b) is minor change, may possibly partially break some endpoints
      (c) is for inclusion of new fields, totally backwards compatible
required:
  - gateway_id
  - report_number
  - event_datetime
  - event_name
  - server_datetime
  - gateway_number
  - summary
  - version
examples:
  - gateway_id: string
    asset_id: string
    vin: string
    report_number: 0
    event_datetime: '2012-04-21T18:25:43Z'
    event_name: string
    server_datetime: string
    gateway_number: 0
    summary:
      latitude: '33.628342'
      longitude: '-117.927933'
      location_datetime: string
      speed: '80.1'
      heading: 0
      current_power_source: battery
      internal_temperature: 0
      is_trip: true
      odometer: 0
      ambient_temperature: 0
    internal_sensors:
      - type: gps-sensor
        latitude: '33.628342'
        longitude: '-117.927933'
        measurement_datetime: '2012-04-21T18:25:43Z'
        speed: 0
        HDOP: 1.6
        satellite_count: 0
        gps_accuracy: 2.3
    peripheral_sensors:
      - type: ABS
        condition: healthy
        odometer: 0
        VIN: string
        voltage: '11.23'
        faults:
          - SID: string
            is_active: true
            count: 0
            FMI_code: string
            FMI_description: string
    debug_number: 0
    gateway_sequence: 0
    version: string
  - gateway_id: string
    asset_id: string
    vin: string
    report_number: 0
    event_datetime: '2012-04-21T18:25:43Z'
    event_name: string
    server_datetime: string
    gateway_number: 0
    summary:
      latitude: '33.628342'
      longitude: '-117.927933'
      location_datetime: string
      speed: '80.1'
      heading: 0
      current_power_source: battery
      internal_temperature: 0
      is_trip: true
      odometer: 0
      ambient_temperature: 0
    internal_sensors:
      - type: gps-sensor
        latitude: '33.628342'
        longitude: '-117.927933'
        measurement_datetime: '2012-04-21T18:25:43Z'
        speed: 0
        HDOP: 1.6
        satellite_count: 0
        gps_accuracy: 2.3
    peripheral_sensors:
      - type: ABS
        condition: healthy
        odometer: 0
        VIN: string
        voltage: '11.23'
        faults:
          - SID: string
            is_active: true
            count: 0
            FMI_code: string
            FMI_description: string
    debug_number: 0
    gateway_sequence: 0
    version: string
